{"mappings":"AAMA,MAAMA,EAAgB,ICQP,MAKbC,eACE,OAAOC,MACL,qEAA2BC,KAAKC,iFAAiFD,KAAKE,QAErHC,MAAKC,GAKGA,EAASC,SAEjBF,MAAKG,IAEJN,KAAKE,MAAQ,EACNI,EAAKC,O,CAGlBC,YACER,KAAKE,KAAO,C,CAEVO,YACF,OAAOT,KAAKC,K,CAEVQ,UAAMC,GACR,OAAQV,KAAKC,MAAQS,C,CA5BvBC,cACEX,KAAKC,MAAQ,GACbD,KAAKE,KAAO,C,GDVVU,EAAOC,SAASC,cAAc,gBAC9BC,EAAUF,SAASC,cAAc,YACjCE,EAAcH,SAASC,cAAc,cAkB3C,SAASG,EAAaV,GACpB,MAAMW,EAASX,EACZY,KACC,EAACC,aACCA,EAAYC,cACZA,EAAaC,KACbA,EAAIC,MACJA,EAAKC,MACLA,EAAKC,SACLA,EAAQC,UACRA,KAGO,4CACEL,6CACsBD,WAAsBE,uGAGlBC,mDACAC,sDACGC,uDACCC,oCAK1CC,KAAK,IACRZ,EAAQa,mBAAmB,YAAaV,E,CAzC1CN,EAAKiB,iBAAiB,UAGtB,SAAsBC,GACpBA,EAAIC,iBACJlC,EAAcY,MAAQqB,EAAIE,cAAcC,SAASC,YAAYjC,MAAMkC,OACnEtC,EAAcW,YACdX,EAAcC,eAAeK,KAAKc,E,IANpCD,EAAYa,iBAAiB,SAS7B,WACEhC,EAAcC,eAAeK,KAAKc,E","sources":["src/index.js","src/fetchPixabayAPI.js"],"sourcesContent":["import './css/index.css';\nimport NewApiPixabay from './fetchPixabayAPI';\n// const API_KEY = '32537245-4f388be37c0f6e70af9a9106a';\n// const URL = 'https://pixabay.com/api/';\n//${value}\n//${page}\nconst newApiPixabay = new NewApiPixabay();\nconst form = document.querySelector('#search-form');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\n\n// let page = 1;\n\nform.addEventListener('submit', onSubmitForm);\nloadMoreBtn.addEventListener('click', onLoadMore);\n\nfunction onSubmitForm(evt) {\n  evt.preventDefault();\n  newApiPixabay.query = evt.currentTarget.elements.searchQuery.value.trim();\n  newApiPixabay.resetPage();\n  newApiPixabay.fetchPixabay().then(renderMarkup);\n}\n\nfunction onLoadMore() {\n  newApiPixabay.fetchPixabay().then(renderMarkup);\n}\n\nfunction renderMarkup(hits) {\n  const markup = hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        // const values = Object.values(languages);\n        return `<div class=\"photo-card\">\n      <a href=\"${largeImageURL}\">\n        <img class=\"card-image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\"/>\n      </a>\n      <div class=\"info\">\n        <p class=\"info-item\"><b>Likes</b>${likes}</p>\n        <p class=\"info-item\"><b>Views</b>${views}</p>\n        <p class=\"info-item\"><b>Comments</b>${comments}</p>\n        <p class=\"info-item\"><b>Downloads</b>${downloads}</p>\n      </div>\n    </div>`;\n      }\n    )\n    .join('');\n  gallery.insertAdjacentHTML('beforeend', markup);\n}\n","const API_KEY = '32537245-4f388be37c0f6e70af9a9106a';\nconst URL = 'https://pixabay.com/api/';\n\n// export function fetchPixabay(value, page) {\n//   fetch(\n//     `${URL}?key=${API_KEY}&q=${value}&image_type=photo&orientation=horizontal&safesearch=true&per_page=10&page=${page}`\n//   ).then(response => {\n//     console.log(response);\n//     if (!response.ok) {\n//       throw new Error(response.status);\n//     }\n//     return response.json();\n//   });\n// }\nexport default class NewApiPixabay {\n  constructor() {\n    this.value = '';\n    this.page = 1;\n  }\n  fetchPixabay() {\n    return fetch(\n      `${URL}?key=${API_KEY}&q=${this.value}&image_type=photo&orientation=horizontal&safesearch=true&per_page=5&page=${this.page}`\n    )\n      .then(response => {\n        //   console.log(response);\n        // if (!response.ok) {\n        //   throw new Error(response.status);\n        // }\n        return response.json();\n      })\n      .then(data => {\n        // console.log(data);\n        this.page += 1;\n        return data.hits;\n      });\n  }\n  resetPage() {\n    this.page = 1;\n  }\n  get query() {\n    return this.value;\n  }\n  set query(newValue) {\n    return (this.value = newValue);\n  }\n}\n"],"names":["$1f0dc3b9307be026$var$newApiPixabay","fetchPixabay","fetch","this","value","page","then","response","json","data","hits","resetPage","query","newValue","constructor","$1f0dc3b9307be026$var$form","document","querySelector","$1f0dc3b9307be026$var$gallery","$1f0dc3b9307be026$var$loadMoreBtn","$1f0dc3b9307be026$var$renderMarkup","markup","map","webformatURL","largeImageURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML","addEventListener","evt","preventDefault","currentTarget","elements","searchQuery","trim"],"version":3,"file":"index.0a35c705.js.map"}